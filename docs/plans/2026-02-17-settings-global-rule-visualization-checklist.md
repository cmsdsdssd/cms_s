# Settings 글로벌룰 가시화 체크리스트

목표: 현재 입력 방식은 유지하면서, "구간별 마진"이 한눈에 보이도록 시각화한다.

## 구현 체크리스트

- [ ] 공통 데이터 정리
  - [ ] 현재 카테고리 룰을 원가 시작값 기준 정렬한다.
  - [ ] 공장 스코프(전체/특정) 기준으로 겹침 여부를 계산한다.
  - [ ] 요약 지표(구간 수/최소/최대/평균/겹침 수/상한없음 수)를 계산한다.

- [ ] 요약 카드 UI
  - [ ] 구간 수 카드
  - [ ] 최소/최대/평균 마진 카드
  - [ ] 겹침/상한없음 상태 카드(경고색 포함)

- [ ] 구간 맵 UI (핵심)
  - [ ] 0원~50만원 스케일 축 표시
  - [ ] 각 구간을 막대로 렌더링(길이=구간폭)
  - [ ] 겹침 구간은 경고 색상으로 표시
  - [ ] 상한없음(null max)은 오른쪽 끝 확장 표기
  - [ ] 막대 클릭 시 해당 룰을 수정 상태로 로드

- [ ] 구간 목록 강화
  - [ ] 시작 원가 기준 정렬 고정
  - [ ] 상태 배지(정상/겹침/비활성) 추가
  - [ ] 이전 구간 대비 마진 증감(Δ) 컬럼 추가
  - [ ] 비어있는 경우 안내 문구 유지

- [ ] 상호작용/일관성
  - [ ] 표에서 수정 클릭 시 구간 맵/입력폼과 동일 상태 공유
  - [ ] 구간 맵 클릭 시 기존 수정 로직 재사용
  - [ ] 기존 저장/삭제/테스트 API 동작 보존

- [ ] 검증
  - [ ] `lsp_diagnostics` 에러 0
  - [ ] `npx tsc --noEmit` 실행
  - [ ] `npm run build` 실행

## 완료 기준

- 운영자가 카테고리 선택 후 1화면에서 "어느 구간에 얼마 마진"인지 즉시 파악 가능해야 한다.
- 겹침 구간을 시각적으로 즉시 식별할 수 있어야 한다.
- 기존 기능(저장/수정/삭제/테스트)은 깨지지 않아야 한다.
